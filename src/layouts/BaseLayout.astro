---
import '../styles/global.css';
import Tracking from "../components/Tracking.astro";
import CookieBanner from "../components/CookieBanner.astro";

interface Props {
    title?: string;
    description?: string;
    image?: string;
}

const {
    title,
    description = '',
    image = '/wannes.jpg'
} = Astro.props;
const pageTitle = title || 'Wannes';
const canonicalURL = new URL(Astro.url.pathname, Astro.site);
---

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="icon" type="image/svg+xml" href="/favicon.svg"/>
        <meta name="generator" content={Astro.generator}/>
        <meta name="view-transition" content="same-origin" />
        <link rel="sitemap" href="/sitemap-index.xml" />
        <link
                rel="alternate"
                type="application/rss+xml"
                title={pageTitle}
                href={new URL('rss.xml', Astro.site)}
        />

		<!-- Prefetch commonly visited pages -->
		<link rel="prefetch" href={new URL('/', Astro.site)} />
		<link rel="prefetch" href={new URL('/about', Astro.site)} />
		<link rel="prefetch" href={new URL('/blogs', Astro.site)} />
		<link rel="prefetch" href={new URL('/projects', Astro.site)} />
		<link rel="preconnect" href="https://fonts.googleapis.com"/>
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>

        <!-- Google Fonts -->
        <link
                href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800;900&family=Inter:wght@400;500;600&display=swap"
                rel="stylesheet"
        />

        <!-- Primary Meta Tags -->
        <title>{pageTitle}</title>
        <meta name="title" content={pageTitle}/>
        <meta name="description" content={description}/>
        <link rel="canonical" href={canonicalURL}/>

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website"/>
        <meta property="og:url" content={Astro.url}/>
        <meta property="og:title" content={pageTitle}/>
        <meta property="og:description" content={description}/>
        <meta property="og:image" content={new URL(image, Astro.url)}/>

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image"/>
        <meta property="twitter:url" content={Astro.url}/>
        <meta property="twitter:title" content={pageTitle}/>
        <meta property="twitter:description" content={description}/>
        <meta property="twitter:image" content={new URL(image, Astro.url)}/>
        <Tracking/>
    </head>
    <body class="min-h-screen flex flex-col bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 transition-colors overflow-x-hidden">
        <slot/>
		<!-- Background gradient blur -->
		<div class="absolute inset-0 -z-10 overflow-hidden">
			<div class="absolute top-0 left-1/4 w-96 h-96 bg-blue-400/20 dark:bg-blue-500/10 rounded-full blur-3xl"></div>
			<div class="absolute bottom-0 right-1/4 w-96 h-96 bg-purple-400/20 dark:bg-purple-500/10 rounded-full blur-3xl"></div>
		</div>
		<CookieBanner />
    </body>
</html>
